import{Q as b,a as _}from"./QBreadcrumbs.2e8d6ad2.js";import{s as l,K as u,o as p,c as v,e as c,f as t,k as d,a0 as f,F as h,r as k,aJ as q,Q as P,aK as N}from"./index.94d26764.js";import{Q as V}from"./QInput.0468e8bc.js";import{Q as x}from"./QChip.d3748fae.js";import{Q as O}from"./QPagination.313fe928.js";import{u as B}from"./use-quasar.d7c9087e.js";import{N as C}from"./NewsCard.b6d96266.js";import"./use-dark.d0703fc8.js";import"./focus-manager.a1b6aa0a.js";import"./format.865294d5.js";import"./QImg.ab902833.js";import"./use-ratio.1af68843.js";import"./QCard.75b1fd4b.js";const $={id:"container",class:"q-ma-md"},E={id:"head",class:"q-my-md"},F={id:"title",class:"text-weight-bold non-selectable q-mt-md q-pl-md flex"},I={class:"q-mt-md q-ml-lg"},K={class:"q-pa-lg flex flex-center"},X={__name:"LatestNews",setup(L){const y=B(),i=l([]),m=l("desc"),g=l(0),Q=l(5),o=l(1),r=l(""),n=async()=>{try{const{data:a}=await q.get("/articles/getNews",{params:{currentPage:o.value,articlesPerPage:Q.value,sortOrder:m.value,search:r.value}});i.value.splice(0,i.value.length,...a.result.data),g.value=a.result.count}catch{y.notify({type:"negative",message:"\u767C\u751F\u932F\u8AA4"})}};n();const w=a=>{m.value=a};return u(o,async(a,e)=>{n(),window.scrollTo(0,0)}),u(m,async(a,e)=>{o.value=1,n()}),u(r,async(a,e)=>{o.value=1,n()}),(a,e)=>(p(),v("div",$,[c("div",E,[t(b,null,{default:d(()=>[t(_,{label:"Home",to:"/"}),t(_,{label:"\u6700\u65B0\u6D88\u606F"})]),_:1}),c("div",F,[f("\u6700\u65B0\u6D88\u606F "),t(V,{class:"q-ml-md q-mt-sm",rounded:"",outlined:"",modelValue:r.value,"onUpdate:modelValue":e[0]||(e[0]=s=>r.value=s),color:"accent",label:"\u8ACB\u8F38\u5165\u6587\u7AE0\u95DC\u9375\u5B57"},{append:d(()=>[t(P,{name:"search",color:"accent",size:"2.5rem"})]),_:1},8,["modelValue"])]),c("div",I,[t(x,{clickable:"",onClick:e[1]||(e[1]=s=>w("decs")),color:"accent","text-color":"white"},{default:d(()=>[f(" \u6700\u65B0 ")]),_:1}),t(x,{clickable:"",onClick:e[2]||(e[2]=s=>w("asc")),color:"accent","text-color":"white"},{default:d(()=>[f(" \u6700\u820A ")]),_:1})])]),(p(!0),v(h,null,k(i.value,s=>(p(),v("div",{id:"section",class:"flex justify-center q-my-xl",key:s._id},[t(C,N(s,{"data-aos":"fade-up","data-aos-duration":"800","data-aos-easing":"ease-in-out-back"}),null,16)]))),128)),c("div",K,[t(O,{modelValue:o.value,"onUpdate:modelValue":e[3]||(e[3]=s=>o.value=s),max:g.value,"boundary-links":"","direction-links":""},null,8,["modelValue","max"])])]))}};export{X as default};
