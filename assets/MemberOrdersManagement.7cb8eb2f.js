import{Q as s}from"./QInput.d5e4bbc6.js";import{a as S,Q as m}from"./QCard.319944d4.js";import{Q as B}from"./QImg.e01aad9f.js";import{_ as D,s as y,a8 as w,b as L,o as u,c as f,f as l,k as o,e as d,F as Q,a0 as M,r as O,i as T,z as $,X as k,Q as j,Z as U,t as b,a2 as A,a3 as E}from"./index.909bd284.js";import{Q as F}from"./QCardActions.9afbc4a2.js";import{Q as W}from"./QDialog.fc9cd049.js";import{Q as K,a as P,b as v}from"./QResponsive.46d2b3b2.js";import{C as R}from"./ClosePopup.5aa08759.js";import{u as X}from"./use-quasar.64579801.js";/* empty css                */import"./use-dark.8ee5bff9.js";import"./focus-manager.a1b6aa0a.js";import"./use-ratio.575fcfaa.js";import"./use-prevent-scroll.d0737c8d.js";import"./scroll.4d28c428.js";import"./focusout.41f9bdde.js";import"./QList.a3b588b3.js";import"./QMarkupTable.9c731edd.js";import"./QSelect.9a70af2e.js";import"./QChip.a7f7f2c4.js";import"./QItem.238d1709.js";import"./QMenu.ea060d7a.js";import"./rtl.b51694b1.js";import"./format.865294d5.js";import"./use-fullscreen.6da7e0b6.js";const n=c=>(A("data-v-379f4594"),c=c(),E(),c),Z=n(()=>d("div",{class:"text-h7 q-mt-md q-mr-lg"},"\u8A02\u55AE\u7DE8\u865F",-1)),G=n(()=>d("div",{class:"text-h7 q-mt-md q-mr-lg"},"\u8CE3\u5BB6\uFF29\uFF24 ",-1)),H=n(()=>d("div",{class:"text-h7 q-mt-md q-mr-lg"},"\u8CB7\u5BB6\u59D3\u540D",-1)),J=n(()=>d("div",{class:"text-h7 q-mt-md q-mr-lg"},"\u8CB7\u5BB6\u96FB\u8A71",-1)),Y=n(()=>d("div",{class:"text-h7 q-mt-md q-mr-lg"},"\u806F\u7D61\u65B9\u5F0F",-1)),ee=n(()=>d("div",{class:"text-h7 q-mt-md q-mr-lg"},"\u5546\u54C1\u7E3D\u984D",-1)),le=n(()=>d("div",{class:"text-h7 q-mt-md q-mr-lg"},"\u8A02\u55AE\u65E5\u671F",-1)),te=n(()=>d("div",{class:"text-h7 q-mt-md q-mr-lg"},"\u4ED8\u6B3E\u65B9\u5F0F",-1)),oe={class:"text-center"},ae=n(()=>d("div",{class:"text-h7 q-mt-md q-mr-lg"},"\u5546\u54C1\u540D\u7A31",-1)),re=n(()=>d("div",{class:"text-h7 q-mt-md q-mr-lg"},"\u6578\u91CF",-1)),de=n(()=>d("div",{class:"text-h7 q-mt-md q-mr-lg"},"\u55AE\u50F9",-1)),se=n(()=>d("div",{id:"title",class:"q-ml-xl q-my-lg q-pl-lg q-py-sm text-h4 text-weight-bold non-selectable"},"\u8CFC\u8CB7\u8A02\u55AE\u67E5\u8A62",-1)),ne={id:"container",class:"flex justify-center q-px-xl q-pb-xl"},me={key:0},ie={key:1},ue={__name:"MemberOrdersManagement",setup(c){const N=X(),V=y(""),h=y(!1),z=[{name:"datedetail",required:!0,label:"\u4EA4\u6613\u65E5\u671F",align:"center",field:"datedetail",sortable:!0},{name:"_id",required:!0,label:"\u8A02\u55AE\u7DE8\u865F",align:"center",field:"_id",sortable:!1},{name:"sell",required:!0,label:"\u8CE3\u5BB6",align:"center",field:"sell",sortable:!1},{name:"total",required:!0,label:"\u7E3D\u91D1\u984D",align:"center",field:"total",sortable:!1},{name:"check",required:!0,label:"\u51FA\u8CA8\u72C0\u614B",align:"center",field:"check",sortable:!0},{name:"detail",required:!0,label:"\u8A73\u7D30\u8CC7\u8A0A",align:"center",field:"detail",sortable:!1}],g=w([]);(async()=>{try{const{data:r}=await M.get("/orders");g.splice(0,g.length,...r.result)}catch(r){console.log(r),N.notify({type:"negative",message:r.response.data.message})}})();const t=w({_id:"",seller:"",realName:"",phoneNumber:"",address:"",payment:"",total:"",date:"",cart:[]}),C=r=>{h.value=!0,t._id=r._id,t.seller=r.seller.nickname+`\uFF08${r.seller._id}\uFF09`,t.realName=r.realName,t.phoneNumber=r.phoneNumber,t.address=r.address,t.payment=r.payment,t.total=r.total,t.date=new Date(r.date).toLocaleString(),t.cart=[...r.cart]},p=y(""),_=y(""),q=()=>{window.innerWidth>975?(p.value=12,_.value=5):window.innerWidth>1200?(p.value=5,_.value=5):(p.value=2,_.value=2)};return q(),window.addEventListener("resize",()=>{q()}),(r,a)=>{const I=L("router-link");return u(),f(Q,null,[l(W,{modelValue:h.value,"onUpdate:modelValue":a[8]||(a[8]=e=>h.value=e)},{default:o(()=>[l(S,null,{default:o(()=>[l(m,null,{default:o(()=>[l(m,{horizontal:""},{default:o(()=>[Z,l(s,{type:"text",readonly:"",modelValue:t._id,"onUpdate:modelValue":a[0]||(a[0]=e=>t._id=e),color:"secondary"},null,8,["modelValue"])]),_:1}),l(m,{horizontal:""},{default:o(()=>[G,l(s,{type:"text",readonly:"",modelValue:t.seller,"onUpdate:modelValue":a[1]||(a[1]=e=>t.seller=e),color:"secondary"},null,8,["modelValue"])]),_:1}),l(m,{horizontal:"",class:"two"},{default:o(()=>[H,l(s,{type:"text",readonly:"",modelValue:t.realName,"onUpdate:modelValue":a[2]||(a[2]=e=>t.realName=e),color:"secondary"},null,8,["modelValue"]),J,l(s,{type:"text",readonly:"",modelValue:t.phoneNumber,"onUpdate:modelValue":a[3]||(a[3]=e=>t.phoneNumber=e),color:"secondary"},null,8,["modelValue"])]),_:1}),l(m,{horizontal:""},{default:o(()=>[Y,l(s,{type:"text",readonly:"",modelValue:t.address,"onUpdate:modelValue":a[4]||(a[4]=e=>t.address=e),color:"secondary"},null,8,["modelValue"])]),_:1}),l(m,{horizontal:"",class:"two"},{default:o(()=>[ee,l(s,{type:"text",readonly:"",modelValue:t.total,"onUpdate:modelValue":a[5]||(a[5]=e=>t.total=e),color:"secondary"},null,8,["modelValue"]),le,l(s,{type:"text",readonly:"",modelValue:t.date,"onUpdate:modelValue":a[6]||(a[6]=e=>t.date=e),color:"secondary"},null,8,["modelValue"])]),_:1}),l(m,{horizontal:"",class:"q-mb-sm"},{default:o(()=>[te,l(s,{type:"text",readonly:"",modelValue:t.payment,"onUpdate:modelValue":a[7]||(a[7]=e=>t.payment=e),color:"secondary"},null,8,["modelValue"])]),_:1}),(u(!0),f(Q,null,O(t.cart,(e,x)=>(u(),T(m,{key:x,style:{background:"rgb(228, 228, 228)"},class:"q-mb-md"},{default:o(()=>[d("div",oe,[l(I,{to:"/trade/"+e.product._id},{default:o(()=>[l(B,{src:e.product.image,style:{width:"150px",height:"120px"}},null,8,["src"])]),_:2},1032,["to"])]),l(m,{horizontal:""},{default:o(()=>[ae,l(s,{type:"text",readonly:"",modelValue:e.product.name,"onUpdate:modelValue":i=>e.product.name=i,color:"secondary"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),l(m,{horizontal:"",class:"two"},{default:o(()=>[re,l(s,{type:"text",readonly:"",modelValue:e.quantity,"onUpdate:modelValue":i=>e.quantity=i,color:"secondary"},null,8,["modelValue","onUpdate:modelValue"]),de,l(s,{type:"text",readonly:"",modelValue:e.product.price,"onUpdate:modelValue":i=>e.product.price=i,color:"secondary"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024))),128))]),_:1}),l(F,{class:"flex justify-center"},{default:o(()=>[$(l(k,{unelevated:"",rounded:"",style:{width:"6rem"},size:"1rem",color:"secondary",label:"OK",class:"q-mb-md"},null,512),[[R]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),se,d("div",ne,[l(K,{id:"wh",ratio:p.value/_.value},{default:o(()=>[l(P,{columns:z,"row-key":"name",rows:g,filter:V.value,"rows-per-page-options":[10,0]},{"top-right":o(()=>[l(s,{color:"white",filled:"",clearable:"",borderless:"",dense:"",debounce:"300",modelValue:V.value,"onUpdate:modelValue":a[9]||(a[9]=e=>V.value=e),placeholder:"\u8ACB\u8F38\u5165\u8A02\u55AE\u7DE8\u865F"},{append:o(()=>[l(j,{name:"search"})]),_:1},8,["modelValue"])]),"body-cell-sell":o(e=>[l(v,{props:e},{default:o(()=>[U(b(e.row.seller.nickname)+" \uFF08"+b(e.row.seller._id)+"\uFF09 ",1)]),_:2},1032,["props"])]),"body-cell-datedetail":o(e=>[l(v,{props:e},{default:o(()=>[U(b(new Date(e.row.date).toLocaleString()),1)]),_:2},1032,["props"])]),"body-cell-check":o(e=>[l(v,{props:e},{default:o(()=>[e.value?(u(),f("div",me,"\u5DF2\u51FA\u8CA8")):(u(),f("div",ie,"\u6E96\u5099\u4E2D"))]),_:2},1032,["props"])]),"body-cell-detail":o(e=>[l(v,{props:e},{default:o(()=>[l(k,{round:"",color:"secondary",onClick:x=>C(e.row),icon:"mdi-file-document-edit"},null,8,["onClick"])]),_:2},1032,["props"])]),_:1},8,["rows","filter"])]),_:1},8,["ratio"])])],64)}}};var Te=D(ue,[["__scopeId","data-v-379f4594"]]);export{Te as default};
