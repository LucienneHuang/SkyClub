import{s as I,u,h as c,aL as H,D as L,O as N,aK as Q,E as S,aZ as h,A as $,H as z,Q as D,aE as K,K as q,aX as U,x as X,v as Z,aF as F}from"./index.a70a2635.js";import{a as G,u as J}from"./use-dark.5ecc7119.js";import{d as W,h as Y}from"./QInput.97394c2d.js";function ee(l,i){const e=I(null),n=u(()=>l.disable===!0?null:c("span",{ref:e,class:"no-outline",tabindex:-1}));function a(r){const o=i.value;r!==void 0&&r.type.indexOf("key")===0?o!==null&&document.activeElement!==o&&o.contains(document.activeElement)===!0&&o.focus():e.value!==null&&(r===void 0||o!==null&&o.contains(r.target)===!0)&&e.value.focus()}return{refocusTargetEl:n,refocusTarget:a}}var te={xs:30,sm:35,md:40,lg:50,xl:60};const le={...J,...Q,...W,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:l=>l==="tf"||l==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},ne=["update:modelValue"];function ae(l,i){const{props:e,slots:n,emit:a,proxy:r}=S(),{$q:o}=r,s=G(e,o),m=I(null),{refocusTargetEl:b,refocusTarget:f}=ee(e,m),g=H(e,te),p=u(()=>e.val!==void 0&&Array.isArray(e.modelValue)),V=u(()=>{const t=h(e.val);return p.value===!0?e.modelValue.findIndex(v=>h(v)===t):-1}),d=u(()=>p.value===!0?V.value>-1:h(e.modelValue)===h(e.trueValue)),k=u(()=>p.value===!0?V.value===-1:h(e.modelValue)===h(e.falseValue)),_=u(()=>d.value===!1&&k.value===!1),E=u(()=>e.disable===!0?-1:e.tabindex||0),w=u(()=>`q-${l} cursor-pointer no-outline row inline no-wrap items-center`+(e.disable===!0?" disabled":"")+(s.value===!0?` q-${l}--dark`:"")+(e.dense===!0?` q-${l}--dense`:"")+(e.leftLabel===!0?" reverse":"")),B=u(()=>{const t=d.value===!0?"truthy":k.value===!0?"falsy":"indet",v=e.color!==void 0&&(e.keepColor===!0||(l==="toggle"?d.value===!0:k.value!==!0))?` text-${e.color}`:"";return`q-${l}__inner relative-position non-selectable q-${l}__inner--${t}${v}`}),O=u(()=>{const t={type:"checkbox"};return e.name!==void 0&&Object.assign(t,{".checked":d.value,"^checked":d.value===!0?"checked":void 0,name:e.name,value:p.value===!0?e.val:e.trueValue}),t}),P=Y(O),R=u(()=>{const t={tabindex:E.value,role:l==="toggle"?"switch":"checkbox","aria-label":e.label,"aria-checked":_.value===!0?"mixed":d.value===!0?"true":"false"};return e.disable===!0&&(t["aria-disabled"]="true"),t});function y(t){t!==void 0&&($(t),f(t)),e.disable!==!0&&a("update:modelValue",T(),t)}function T(){if(p.value===!0){if(d.value===!0){const t=e.modelValue.slice();return t.splice(V.value,1),t}return e.modelValue.concat([e.val])}if(d.value===!0){if(e.toggleOrder!=="ft"||e.toggleIndeterminate===!1)return e.falseValue}else if(k.value===!0){if(e.toggleOrder==="ft"||e.toggleIndeterminate===!1)return e.trueValue}else return e.toggleOrder!=="ft"?e.trueValue:e.falseValue;return e.indeterminateValue}function A(t){(t.keyCode===13||t.keyCode===32)&&$(t)}function M(t){(t.keyCode===13||t.keyCode===32)&&y(t)}const j=i(d,_);return Object.assign(r,{toggle:y}),()=>{const t=j();e.disable!==!0&&P(t,"unshift",` q-${l}__native absolute q-ma-none q-pa-none`);const v=[c("div",{class:B.value,style:g.value,"aria-hidden":"true"},t)];b.value!==null&&v.push(b.value);const C=e.label!==void 0?L(n.default,[e.label]):N(n.default);return C!==void 0&&v.push(c("div",{class:`q-${l}__label q-anchor--skip`},C)),c("div",{ref:m,class:w.value,...R.value,onClick:y,onKeydown:A,onKeyup:M},v)}}const oe=c("div",{key:"svg",class:"q-checkbox__bg absolute"},[c("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24"},[c("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),c("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]);var ce=z({name:"QCheckbox",props:le,emits:ne,setup(l){function i(e,n){const a=u(()=>(e.value===!0?l.checkedIcon:n.value===!0?l.indeterminateIcon:l.uncheckedIcon)||null);return()=>a.value!==null?[c("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[c(D,{class:"q-checkbox__icon",name:a.value})])]:[oe]}return ae("checkbox",i)}});let x=0;const ie={fullscreen:Boolean,noRouteFullscreenExit:Boolean},de=["update:fullscreen","fullscreen"];function fe(){const l=S(),{props:i,emit:e,proxy:n}=l;let a,r,o;const s=I(!1);K(l)===!0&&q(()=>n.$route.fullPath,()=>{i.noRouteFullscreenExit!==!0&&f()}),q(()=>i.fullscreen,g=>{s.value!==g&&m()}),q(s,g=>{e("update:fullscreen",g),e("fullscreen",g)});function m(){s.value===!0?f():b()}function b(){s.value!==!0&&(s.value=!0,o=n.$el.parentNode,o.replaceChild(r,n.$el),document.body.appendChild(n.$el),x++,x===1&&document.body.classList.add("q-body--fullscreen-mixin"),a={handler:f},F.add(a))}function f(){s.value===!0&&(a!==void 0&&(F.remove(a),a=void 0),o.replaceChild(n.$el,r),s.value=!1,x=Math.max(0,x-1),x===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),n.$el.scrollIntoView!==void 0&&setTimeout(()=>{n.$el.scrollIntoView()})))}return U(()=>{r=document.createElement("span")}),X(()=>{i.fullscreen===!0&&b()}),Z(f),Object.assign(n,{toggleFullscreen:m,setFullscreen:b,exitFullscreen:f}),{inFullscreen:s,toggleFullscreen:m}}export{ce as Q,de as a,fe as b,ie as u};
