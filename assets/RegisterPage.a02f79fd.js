import{_ as F,X as I,aL as B,ab as U,s as b,K as g,o as x,c as v,e as n,f as e,k as a,aY as A,Z as m,$ as L,a1 as R,a0 as c,F as E,r as N,t as D,Q as u,a4 as M,a5 as T,aJ as $,a3 as j}from"./index.880b6899.js";import{Q as p,a as f}from"./QItem.bc796bee.js";import{Q as z,a as Q}from"./QList.f71c8533.js";import{Q as J}from"./QMenu.43f53f81.js";import{Q as K}from"./QToolbar.db75ef41.js";import{a as O,Q as i}from"./QCard.44a3210c.js";import{Q as _}from"./QInput.87245145.js";import{Q as y}from"./QCardActions.e535f2b8.js";import{Q as X}from"./QForm.3cd9869e.js";import{v as Y}from"./index.10269b71.js";import{u as Z}from"./use-quasar.15be4eab.js";/* empty css                */import"./use-dark.f4024f95.js";import"./use-model-toggle.f7f2b306.js";import"./focusout.2688aa61.js";import"./focus-manager.a1b6aa0a.js";const k=d=>(M("data-v-5881f157"),d=d(),T(),d),G={class:"container"},H={class:"bg_effect"},W=k(()=>n("div",{id:"shine"},null,-1)),ee=["src"],ae={class:"row flex-center register"},te=k(()=>n("div",{class:"title text-center text-h4 q-py-md non-selectable"},"\u8A3B\u518A\u6703\u54E1",-1)),se={__name:"RegisterPage",setup(d){const q=I(),P=Z(),V=B(),t=U({email:"",password:"",confirmPassword:""}),h=b(null),w=b(null),s={required:l=>!!l||"\u6B04\u4F4D\u5FC5\u586B",email:l=>Y.isEmail(l)||"\u4FE1\u7BB1\u683C\u5F0F\u932F\u8AA4",min:l=>l.length>=4||"\u9577\u5EA6\u5FC5\u9808\u5927\u65BC 4 \u500B\u5B57",max:l=>l.length<=20||"\u9577\u5EA6\u5FC5\u9808\u5C0F\u65BC 20 \u500B\u5B57",confirm:()=>t.confirmPassword===t.password||"\u5BC6\u78BC\u4E0D\u4E00\u81F4"};g(()=>t.confirmPassword,()=>{h.value.validate()}),g(()=>t.password,()=>{w.value.validate()});const C=async()=>{try{await $.post("/users",t),await j.fire({icon:"success",title:"\u8A3B\u518A\u6210\u529F",showClass:{popup:"animate__animated animate__fadeInDown"},hideClass:{popup:"animate__animated animate__fadeOutUp"},iconColor:"#F198AF",confirmButtonColor:"#F198AF",width:"20rem"}),V.push("/login")}catch(l){P.notify({type:"negative",message:l.response.data.message})}},S=[{to:"/",label:"\u9996\u9801",icon:"home"},{to:"/latestnews",label:"\u6700\u65B0\u6D88\u606F",icon:"announcement"},{to:"/realms",label:"\u5340\u57DF\u4ECB\u7D39",icon:"location_on"},{to:"/trade",label:"\u4EA4\u6613\u5C08\u5340",icon:"local_mall"},{to:"/contact",label:"\u806F\u7D61\u6211\u5011",icon:"call"}];return(l,r)=>(x(),v("div",G,[n("div",H,[W,e(K,{class:"text-white q-px-lg q-pt-md",style:{height:"50px"}},{default:a(()=>[e(m,{class:"q-ml-auto",flat:"",round:"",dense:""},{default:a(()=>[e(L,null,{default:a(()=>[n("img",{src:R(q).avatar},null,8,ee)]),_:1}),e(J,{square:"",class:"bg-primary text-center"},{default:a(()=>[e(z,{dense:""},{default:a(()=>[e(p,{clickable:""},{default:a(()=>[e(f,null,{default:a(()=>[c("\u904A\u5BA2")]),_:1})]),_:1}),e(Q,{inset:""}),(x(),v(E,null,N(S,o=>e(p,{clickable:"",to:o.to,key:o.to},{default:a(()=>[e(f,null,{default:a(()=>[c(D(o.label),1)]),_:2},1024)]),_:2},1032,["to"])),64)),e(Q,{inset:""}),e(p,{clickable:"",to:"/"},{default:a(()=>[e(f,null,{default:a(()=>[c("\u56DE\u9996\u9801")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),n("div",ae,[e(X,{onSubmit:A(C,["prevent"])},{default:a(()=>[e(O,null,{default:a(()=>[e(i,{horizontal:""},{default:a(()=>[e(i,{class:"left"}),e(i,{class:"right flex column justify-center"},{default:a(()=>[e(i,null,{default:a(()=>[te,e(_,{modelValue:t.email,"onUpdate:modelValue":r[0]||(r[0]=o=>t.email=o),rules:[s.required,s.email],dark:"",class:"q-mb-xs",type:"email",label:"Email",hint:"\u8ACB\u8F38\u5165\u4FE1\u7BB1","hide-hint":"",filled:"",dense:"",clearable:"","hide-bottom-space":"","clear-icon":"backspace"},{prepend:a(()=>[e(u,{name:"mail"})]),_:1},8,["modelValue","rules"])]),_:1}),e(i,null,{default:a(()=>[e(_,{modelValue:t.password,"onUpdate:modelValue":r[1]||(r[1]=o=>t.password=o),rules:[s.required,s.min,s.max,s.confirm],dark:"",class:"q-mb-xs",ref_key:"elPassword",ref:h,type:"password",label:"Password",hint:"\u8ACB\u8F38\u5165\u5BC6\u78BC","hide-hint":"",filled:"",dense:"","hide-bottom-space":"",maxlength:"20"},{prepend:a(()=>[e(u,{name:"vpn_key"})]),_:1},8,["modelValue","rules"])]),_:1}),e(i,null,{default:a(()=>[e(_,{modelValue:t.confirmPassword,"onUpdate:modelValue":r[2]||(r[2]=o=>t.confirmPassword=o),rules:[s.required,s.min,s.max,s.confirm],ref_key:"elPasswordConfirm",ref:w,dark:"",class:"q-mb-xs",type:"password",label:"Confirm Password",hint:"\u78BA\u8A8D\u5BC6\u78BC","hide-hint":"",filled:"",dense:"","hide-bottom-space":"",maxlength:"20"},{prepend:a(()=>[e(u,{name:"vpn_key"})]),_:1},8,["modelValue","rules"])]),_:1}),e(y,{class:"q-mt-md q-px-lg",vertical:""},{default:a(()=>[e(m,{label:"register",type:"submit",color:"secondary","text-color":"dark",class:"text-weight-bold"}),e(y,{align:"center"},{default:a(()=>[e(m,{label:"\u767B\u5165\u6703\u54E1","text-color":"white",to:"/login",flat:""})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"])])])]))}};var xe=F(se,[["__scopeId","data-v-5881f157"]]);export{xe as default};
