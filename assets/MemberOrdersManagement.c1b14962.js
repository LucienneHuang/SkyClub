import{Q as s}from"./QInput.307b8e6b.js";import{a as B,Q as m}from"./QCard.e8a61c94.js";import{Q as D}from"./QImg.b2f32107.js";import{_ as L,s as f,a8 as w,u as M,b as O,o as c,c as v,f as l,k as o,e as d,F as k,a0 as T,r as $,i as j,z as A,X as Q,Q as E,Z as U,t as b,a2 as F,a3 as R}from"./index.e7ff907b.js";import{Q as W}from"./QCardActions.f9a287a5.js";import{Q as K}from"./QDialog.39bdbf57.js";import{Q as P,a as X,b as V}from"./QResponsive.6fdb1968.js";import{C as Z}from"./ClosePopup.858237dd.js";import{u as G}from"./use-quasar.64994ed3.js";/* empty css                */import"./use-dark.e3629670.js";import"./focus-manager.a1b6aa0a.js";import"./use-ratio.8ae07bff.js";import"./use-prevent-scroll.cc64737d.js";import"./scroll.4bcb5431.js";import"./focusout.05b357fc.js";import"./QList.cdaeea7a.js";import"./QMarkupTable.a12e4c65.js";import"./QSelect.e0e7d238.js";import"./QChip.40c809a0.js";import"./QItem.acc1efe9.js";import"./QMenu.9a111b68.js";import"./rtl.b51694b1.js";import"./format.865294d5.js";import"./use-fullscreen.031b461d.js";const n=p=>(F("data-v-0eeccd24"),p=p(),R(),p),H=n(()=>d("div",{class:"text-h7 q-mt-md q-mr-lg"},"\u8A02\u55AE\u7DE8\u865F",-1)),J=n(()=>d("div",{class:"text-h7 q-mt-md q-mr-lg"},"\u8CE3\u5BB6\uFF29\uFF24 ",-1)),Y=n(()=>d("div",{class:"text-h7 q-mt-md q-mr-lg"},"\u8CB7\u5BB6\u59D3\u540D",-1)),ee=n(()=>d("div",{class:"text-h7 q-mt-md q-mr-lg"},"\u8CB7\u5BB6\u96FB\u8A71",-1)),le=n(()=>d("div",{class:"text-h7 q-mt-md q-mr-lg"},"\u806F\u7D61\u65B9\u5F0F",-1)),te=n(()=>d("div",{class:"text-h7 q-mt-md q-mr-lg"},"\u5546\u54C1\u7E3D\u984D",-1)),oe=n(()=>d("div",{class:"text-h7 q-mt-md q-mr-lg"},"\u8A02\u55AE\u65E5\u671F",-1)),ae=n(()=>d("div",{class:"text-h7 q-mt-md q-mr-lg"},"\u4ED8\u6B3E\u65B9\u5F0F",-1)),re={class:"text-center"},de=n(()=>d("div",{class:"text-h7 q-mt-md q-mr-lg"},"\u5546\u54C1\u540D\u7A31",-1)),se=n(()=>d("div",{class:"text-h7 q-mt-md q-mr-lg"},"\u6578\u91CF",-1)),ne=n(()=>d("div",{class:"text-h7 q-mt-md q-mr-lg"},"\u55AE\u50F9",-1)),me=n(()=>d("div",{id:"title",class:"q-ml-xl q-my-lg q-pl-lg q-py-sm text-h4 text-weight-bold non-selectable"},"\u8CFC\u8CB7\u8A02\u55AE\u67E5\u8A62",-1)),ie={id:"container",class:"flex justify-center q-px-xl q-pb-xl"},ue={key:0},ce={key:1},pe={__name:"MemberOrdersManagement",setup(p){const N=G(),i=f(""),h=f(!1),z=[{name:"datedetail",required:!0,label:"\u4EA4\u6613\u65E5\u671F",align:"center",field:"datedetail",sortable:!0},{name:"_id",required:!0,label:"\u8A02\u55AE\u7DE8\u865F",align:"center",field:"_id",sortable:!1},{name:"sell",required:!0,label:"\u8CE3\u5BB6",align:"center",field:"sell",sortable:!1},{name:"total",required:!0,label:"\u7E3D\u91D1\u984D",align:"center",field:"total",sortable:!1},{name:"check",required:!0,label:"\u51FA\u8CA8\u72C0\u614B",align:"center",field:"check",sortable:!0},{name:"detail",required:!0,label:"\u8A73\u7D30\u8CC7\u8A0A",align:"center",field:"detail",sortable:!1}],g=w([]);(async()=>{try{const{data:r}=await T.get("/orders");g.splice(0,g.length,...r.result)}catch(r){console.log(r),N.notify({type:"negative",message:r.response.data.message})}})();const t=w({_id:"",seller:"",realName:"",phoneNumber:"",address:"",payment:"",total:"",date:"",cart:[]}),C=r=>{h.value=!0,t._id=r._id,t.seller=r.seller.nickname+`\uFF08${r.seller._id}\uFF09`,t.realName=r.realName,t.phoneNumber=r.phoneNumber,t.address=r.address,t.payment=r.payment,t.total=r.total,t.date=new Date(r.date).toLocaleString(),t.cart=[...r.cart]},I=M(()=>g.filter(r=>i.value?r.seller.nickname.indexOf(i.value)>-1||r._id.indexOf(i.value)>-1:!0)),_=f(""),y=f(""),x=()=>{window.innerWidth>975?(_.value=12,y.value=5):window.innerWidth>1200?(_.value=5,y.value=5):(_.value=2,y.value=2)};return x(),window.addEventListener("resize",()=>{x()}),(r,a)=>{const S=O("router-link");return c(),v(k,null,[l(K,{modelValue:h.value,"onUpdate:modelValue":a[8]||(a[8]=e=>h.value=e)},{default:o(()=>[l(B,null,{default:o(()=>[l(m,null,{default:o(()=>[l(m,{horizontal:""},{default:o(()=>[H,l(s,{type:"text",readonly:"",modelValue:t._id,"onUpdate:modelValue":a[0]||(a[0]=e=>t._id=e),color:"secondary"},null,8,["modelValue"])]),_:1}),l(m,{horizontal:""},{default:o(()=>[J,l(s,{type:"text",readonly:"",modelValue:t.seller,"onUpdate:modelValue":a[1]||(a[1]=e=>t.seller=e),color:"secondary"},null,8,["modelValue"])]),_:1}),l(m,{horizontal:"",class:"two"},{default:o(()=>[Y,l(s,{type:"text",readonly:"",modelValue:t.realName,"onUpdate:modelValue":a[2]||(a[2]=e=>t.realName=e),color:"secondary"},null,8,["modelValue"]),ee,l(s,{type:"text",readonly:"",modelValue:t.phoneNumber,"onUpdate:modelValue":a[3]||(a[3]=e=>t.phoneNumber=e),color:"secondary"},null,8,["modelValue"])]),_:1}),l(m,{horizontal:""},{default:o(()=>[le,l(s,{type:"text",readonly:"",modelValue:t.address,"onUpdate:modelValue":a[4]||(a[4]=e=>t.address=e),color:"secondary"},null,8,["modelValue"])]),_:1}),l(m,{horizontal:"",class:"two"},{default:o(()=>[te,l(s,{type:"text",readonly:"",modelValue:t.total,"onUpdate:modelValue":a[5]||(a[5]=e=>t.total=e),color:"secondary"},null,8,["modelValue"]),oe,l(s,{type:"text",readonly:"",modelValue:t.date,"onUpdate:modelValue":a[6]||(a[6]=e=>t.date=e),color:"secondary"},null,8,["modelValue"])]),_:1}),l(m,{horizontal:"",class:"q-mb-sm"},{default:o(()=>[ae,l(s,{type:"text",readonly:"",modelValue:t.payment,"onUpdate:modelValue":a[7]||(a[7]=e=>t.payment=e),color:"secondary"},null,8,["modelValue"])]),_:1}),(c(!0),v(k,null,$(t.cart,(e,q)=>(c(),j(m,{key:q,style:{background:"rgb(228, 228, 228)"},class:"q-mb-md"},{default:o(()=>[d("div",re,[l(S,{to:"/trade/"+e.product._id},{default:o(()=>[l(D,{src:e.product.image,style:{width:"150px",height:"120px"}},null,8,["src"])]),_:2},1032,["to"])]),l(m,{horizontal:""},{default:o(()=>[de,l(s,{type:"text",readonly:"",modelValue:e.product.name,"onUpdate:modelValue":u=>e.product.name=u,color:"secondary"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),l(m,{horizontal:"",class:"two"},{default:o(()=>[se,l(s,{type:"text",readonly:"",modelValue:e.quantity,"onUpdate:modelValue":u=>e.quantity=u,color:"secondary"},null,8,["modelValue","onUpdate:modelValue"]),ne,l(s,{type:"text",readonly:"",modelValue:e.product.price,"onUpdate:modelValue":u=>e.product.price=u,color:"secondary"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024))),128))]),_:1}),l(W,{class:"flex justify-center"},{default:o(()=>[A(l(Q,{unelevated:"",rounded:"",style:{width:"6rem"},size:"1rem",color:"secondary",label:"OK",class:"q-mb-md"},null,512),[[Z]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),me,d("div",ie,[l(P,{id:"wh",ratio:_.value/y.value},{default:o(()=>[l(X,{columns:z,"row-key":"_id",rows:I.value,"rows-per-page-options":[10,0]},{"top-right":o(()=>[l(s,{color:"white",filled:"",clearable:"",borderless:"",dense:"",debounce:"300",modelValue:i.value,"onUpdate:modelValue":a[9]||(a[9]=e=>i.value=e),placeholder:"\u8ACB\u8F38\u5165\u8A02\u55AE\u7DE8\u865F/\u8CE3\u5BB6\u540D\u7A31"},{append:o(()=>[l(E,{name:"search"})]),_:1},8,["modelValue"])]),"body-cell-sell":o(e=>[l(V,{props:e},{default:o(()=>[U(b(e.row.seller.nickname)+" \uFF08"+b(e.row.seller._id)+"\uFF09 ",1)]),_:2},1032,["props"])]),"body-cell-datedetail":o(e=>[l(V,{props:e},{default:o(()=>[U(b(new Date(e.row.date).toLocaleString()),1)]),_:2},1032,["props"])]),"body-cell-check":o(e=>[l(V,{props:e},{default:o(()=>[e.value?(c(),v("div",ue,"\u5DF2\u51FA\u8CA8")):(c(),v("div",ce,"\u6E96\u5099\u4E2D"))]),_:2},1032,["props"])]),"body-cell-detail":o(e=>[l(V,{props:e},{default:o(()=>[l(Q,{round:"",color:"secondary",onClick:q=>C(e.row),icon:"mdi-file-document-edit"},null,8,["onClick"])]),_:2},1032,["props"])]),_:1},8,["rows"])]),_:1},8,["ratio"])])],64)}}};var je=L(pe,[["__scopeId","data-v-0eeccd24"]]);export{je as default};
